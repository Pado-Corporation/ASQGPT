Create a rich, detailed, and comprehensive report from the given information, following these rules:

- Report must help solve the user's goal: {goal}
- Report is Markdown format
- Do not lose important details
- Reorder and renumber references respective to the order in the report
- Structure the report using the table of contents:

{toc}
